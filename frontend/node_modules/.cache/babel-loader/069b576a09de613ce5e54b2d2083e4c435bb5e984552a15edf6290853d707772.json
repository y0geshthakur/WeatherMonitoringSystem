{"ast":null,"code":"var _jsxFileName = \"/Users/yogeshthakur/WeatherMonitoringSystem/frontend/src/App.js\",\n  _s = $RefreshSig$();\n// // src/App.js\n\n// import React, { useEffect, useState } from \"react\";\n// import { fetchWeatherData } from \"./services/weatherService\";\n// import \"./App.css\"; // You can style as needed\n// import \"./index.css\"; // You can style as needed\n\n// const App = () => {\n//     const [weatherData, setWeatherData] = useState(null);\n//     const [error, setError] = useState(null);\n\n//     useEffect(() => {\n//         const getWeatherData = async () => {\n//             try {\n//                 const data = await fetchWeatherData();\n//                 setWeatherData(data);\n//             } catch (error) {\n//                 setError(\"Could not fetch weather data\");\n//             }\n//         };\n\n//         getWeatherData();\n//         const intervalId = setInterval(getWeatherData, 300000); // Fetch data every 5 minutes\n\n//         return () => clearInterval(intervalId); // Cleanup on unmount\n//     }, []);\n\n//     if (error) {\n//         return <div className=\"error\">{error}</div>;\n//     }\n\n//     if (!weatherData) {\n//         return <div>Loading...</div>;\n//     }\n\n//     const { weatherData: citiesData, processedData } = weatherData;\n\n//     return (\n//         <div className=\"app\">\n//             <h1>Weather Monitoring System</h1>\n//             <h2>Current Weather</h2>\n//             <ul>\n//                 {citiesData.map((city, index) => (\n//                     <li key={index}>\n//                         <h3>{city.name}</h3>\n//                         <p>Main Condition: {city.weather[0].description}</p>\n//                         <p>Current Temperature: {Math.round(city.main.temp - 273.15)} °C</p>\n//                         <p>Feels Like: {Math.round(city.main.feels_like - 273.15)} °C</p>\n//                     </li>\n//                 ))}\n//             </ul>\n//             <h2>Daily Summary</h2>\n//             <p>Average Temperature: {Math.round(processedData.averageTemperature)} °C</p>\n//             <p>Max Temperature: {Math.round(processedData.maxTemperature)} °C</p>\n//             <p>Min Temperature: {Math.round(processedData.minTemperature)} °C</p>\n//             <p>Dominant Condition: {processedData.dominantCondition}</p>\n//         </div>\n//     );\n// };\n\n// export default App;\n\n// src/App.js\nimport React, { useEffect, useState } from 'react';\nimport { fetchWeatherData } from './services/weatherService';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [cities, setCities] = useState([]);\n  const [selectedCity, setSelectedCity] = useState('');\n  const [weatherData, setWeatherData] = useState(null);\n  const [error, setError] = useState('');\n\n  // Fetch cities on component mount\n  useEffect(() => {\n    const fetchCities = async () => {\n      try {\n        const response = await fetch(`https://api.geonames.org/countryInfoJSON?username=y0geshthakur`);\n        const countriesData = await response.json();\n        const allCities = [];\n\n        // Fetch cities for each country\n        for (const country of countriesData.geonames) {\n          const cityResponse = await fetch(`https://api.geonames.org/searchJSON?country=${country.countryCode}&maxRows=10&username=y0geshthakur`);\n          const cityData = await cityResponse.json();\n          allCities.push(...cityData.geonames.map(city => city.name));\n        }\n        setCities(allCities);\n      } catch (err) {\n        console.error('Error fetching cities:', err);\n      }\n    };\n    fetchCities();\n  }, []);\n  const handleCityChange = e => {\n    setSelectedCity(e.target.value);\n  };\n  const handleGetWeather = async () => {\n    if (!selectedCity) {\n      setError('Please select a city.');\n      return;\n    }\n    setError(''); // Clear any previous error\n    try {\n      const data = await fetchWeatherData(selectedCity);\n      setWeatherData(data);\n    } catch (err) {\n      setError('Error fetching weather data. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Weather Monitoring System\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Select City:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedCity,\n        onChange: handleCityChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"--Select City--\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this), cities.map(city => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: city,\n          children: city\n        }, city, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleGetWeather,\n      children: \"Get Weather\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 23\n    }, this), weatherData && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Weather in \", selectedCity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Main Condition: \", weatherData.weather[0].main]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Current Temperature: \", weatherData.main.temp, \" \\xB0C\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Feels Like: \", weatherData.main.feels_like, \" \\xB0C\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"REfMXZlVoU/rmcBk0s3cauMhmp8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","fetchWeatherData","jsxDEV","_jsxDEV","App","_s","cities","setCities","selectedCity","setSelectedCity","weatherData","setWeatherData","error","setError","fetchCities","response","fetch","countriesData","json","allCities","country","geonames","cityResponse","countryCode","cityData","push","map","city","name","err","console","handleCityChange","e","target","value","handleGetWeather","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onClick","weather","main","temp","feels_like","_c","$RefreshReg$"],"sources":["/Users/yogeshthakur/WeatherMonitoringSystem/frontend/src/App.js"],"sourcesContent":["// // src/App.js\n\n\n// import React, { useEffect, useState } from \"react\";\n// import { fetchWeatherData } from \"./services/weatherService\";\n// import \"./App.css\"; // You can style as needed\n// import \"./index.css\"; // You can style as needed\n\n\n// const App = () => {\n//     const [weatherData, setWeatherData] = useState(null);\n//     const [error, setError] = useState(null);\n\n\n//     useEffect(() => {\n//         const getWeatherData = async () => {\n//             try {\n//                 const data = await fetchWeatherData();\n//                 setWeatherData(data);\n//             } catch (error) {\n//                 setError(\"Could not fetch weather data\");\n//             }\n//         };\n\n\n//         getWeatherData();\n//         const intervalId = setInterval(getWeatherData, 300000); // Fetch data every 5 minutes\n\n\n//         return () => clearInterval(intervalId); // Cleanup on unmount\n//     }, []);\n\n\n//     if (error) {\n//         return <div className=\"error\">{error}</div>;\n//     }\n\n\n//     if (!weatherData) {\n//         return <div>Loading...</div>;\n//     }\n\n\n//     const { weatherData: citiesData, processedData } = weatherData;\n\n\n//     return (\n//         <div className=\"app\">\n//             <h1>Weather Monitoring System</h1>\n//             <h2>Current Weather</h2>\n//             <ul>\n//                 {citiesData.map((city, index) => (\n//                     <li key={index}>\n//                         <h3>{city.name}</h3>\n//                         <p>Main Condition: {city.weather[0].description}</p>\n//                         <p>Current Temperature: {Math.round(city.main.temp - 273.15)} °C</p>\n//                         <p>Feels Like: {Math.round(city.main.feels_like - 273.15)} °C</p>\n//                     </li>\n//                 ))}\n//             </ul>\n//             <h2>Daily Summary</h2>\n//             <p>Average Temperature: {Math.round(processedData.averageTemperature)} °C</p>\n//             <p>Max Temperature: {Math.round(processedData.maxTemperature)} °C</p>\n//             <p>Min Temperature: {Math.round(processedData.minTemperature)} °C</p>\n//             <p>Dominant Condition: {processedData.dominantCondition}</p>\n//         </div>\n//     );\n// };\n\n\n// export default App;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/App.js\nimport React, { useEffect, useState } from 'react';\nimport { fetchWeatherData } from './services/weatherService';\nimport './App.css';\n\nconst App = () => {\n    const [cities, setCities] = useState([]);\n    const [selectedCity, setSelectedCity] = useState('');\n    const [weatherData, setWeatherData] = useState(null);\n    const [error, setError] = useState('');\n\n    // Fetch cities on component mount\n    useEffect(() => {\n        const fetchCities = async () => {\n            try {\n                const response = await fetch(`https://api.geonames.org/countryInfoJSON?username=y0geshthakur`);\n                const countriesData = await response.json();\n                const allCities = [];\n\n                // Fetch cities for each country\n                for (const country of countriesData.geonames) {\n                    const cityResponse = await fetch(`https://api.geonames.org/searchJSON?country=${country.countryCode}&maxRows=10&username=y0geshthakur`);\n                    const cityData = await cityResponse.json();\n                    allCities.push(...cityData.geonames.map(city => city.name));\n                }\n\n                setCities(allCities);\n            } catch (err) {\n                console.error('Error fetching cities:', err);\n            }\n        };\n        fetchCities();\n    }, []);\n\n    const handleCityChange = (e) => {\n        setSelectedCity(e.target.value);\n    };\n\n    const handleGetWeather = async () => {\n        if (!selectedCity) {\n            setError('Please select a city.');\n            return;\n        }\n        setError(''); // Clear any previous error\n        try {\n            const data = await fetchWeatherData(selectedCity);\n            setWeatherData(data);\n        } catch (err) {\n            setError('Error fetching weather data. Please try again.');\n        }\n    };\n\n    return (\n        <div className=\"App\">\n            <h1>Weather Monitoring System</h1>\n            <div>\n                <label>Select City:</label>\n                <select value={selectedCity} onChange={handleCityChange}>\n                    <option value=\"\">--Select City--</option>\n                    {cities.map(city => (\n                        <option key={city} value={city}>\n                            {city}\n                        </option>\n                    ))}\n                </select>\n            </div>\n            <button onClick={handleGetWeather}>Get Weather</button>\n\n            {error && <p className=\"error\">{error}</p>}\n\n            {weatherData && (\n                <div>\n                    <h2>Weather in {selectedCity}</h2>\n                    <p>Main Condition: {weatherData.weather[0].main}</p>\n                    <p>Current Temperature: {weatherData.main.temp} °C</p>\n                    <p>Feels Like: {weatherData.main.feels_like} °C</p>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}